document.querySelector("button#oauthButton").addEventListener("click",(function(){chrome.runtime.sendMessage({message:"get_auth_token"}),chrome.runtime.sendMessage({message:"get_profile"}),chrome.runtime.sendMessage({message:"get_user_information"}),chrome.runtime.sendMessage({message:"get_calendar_list"}),chrome.runtime.sendMessage({message:"get_calendar_by_id"})})),document.addEventListener("DOMContentLoaded",(()=>{let e;const t=document.querySelector(".modal-body");let o="";const r=e=>{localStorage.setItem("rscry-un",e.target.value)},n=()=>{console.log("111")};window.onload=function(){google.accounts.id.initialize({client_id:"85500286524-e912nst858563iib207gbhhmcg240fol.apps.googleusercontent.com",callback:n})},(()=>{const t=new Request("https://resourcery.vercel.app/feed.json");fetch(t,{method:"GET"}).then((e=>e.json())).then((t=>{(t=>{const o=document.querySelector(".posts__list"),r=document.querySelector(".post-template");e=t,t.forEach(((e,t)=>{e["content:encoded"]||(e["content:encoded"]=e.description);const n=r.content.cloneNode(!0);n.querySelector(".post__title").innerText=e.title,n.querySelector(".post__provider").innerText=e.providerTitle,n.querySelector(".post__provider").setAttribute("href",e.providerURL),n.querySelector(".posts__list-item").setAttribute("data-provider",e.providerTitle),n.querySelector(".post__description").innerHTML=`${String(e.description).substring(0,130)}...`,n.querySelector(".post__link").setAttribute("href",e.link),n.querySelector(".btn-modal").setAttribute("data-idx",t),o.append(n)}))})(t)})).catch(console.error)})(),(()=>{const e=new Request("https://geolocation-db.com/json/59e89620-db25-11eb-ad48-73c00c9b92a3");return fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>{o=e.city.toLowerCase()})).catch(console.error)})().then((()=>{(()=>{const e=new Request(`https://resourcery.vercel.app/weather-${o}.json`);fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>{const t=document.querySelector(".city-name"),r=document.querySelector(".city-temp"),n=document.querySelector(".city-sky"),c=document.querySelector(".icon-weather"),s=document.querySelector(".weather-wrapper");t.innerText=o,r.innerText=Math.round(e.main.feels_like),n.innerText=e.weather[0].description,c.setAttribute("src",`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`),s.classList.remove("d-none")})).catch(console.error)})(),(()=>{const e=(new Date).getHours();let t="Hello";e>5&&e<=12&&(t="Good morning"),e>12&&e<=18&&(t="Good afternoon"),e>18&&e<=23&&(t="Good night"),e>=0&&e<5&&(t="It's late"),document.querySelector(".greet").innerText=t})()})),document.getElementById("contentModal").addEventListener("show.bs.modal",(function(o){const r=e[o.relatedTarget.getAttribute("data-idx")];t.innerHTML=r["content:encoded"]})),document.querySelector(".userName").addEventListener("change",r),(()=>{const e=localStorage.getItem("rscry-un"),t=localStorage.getItem("rscry-uc");if(e){document.querySelector(".userName").value=localStorage.getItem("rscry-un")}if(t){document.querySelector(".userCalendar").value=localStorage.getItem("rscry-uc");document.querySelector(".calendar-frame").setAttribute("src",localStorage.getItem("rscry-uc"))}})()}));
//# sourceMappingURL=index.b7c77cf4.js.map
