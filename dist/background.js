(()=>{var e={6183:()=>{const e="AIzaSyCACn68SfWwozQbzOXYPqCskkN-XKlgNug",t=async()=>{chrome.identity.getAuthToken({interactive:!0},(function(e){return c("user_token",e),e}))},n=()=>{chrome.identity.getProfileUserInfo({accountStatus:"ANY"},(function(e){c("user_profile",e)}))},o=()=>{chrome.identity.getAuthToken({interactive:!0},(function(t){fetch(`https://people.googleapis.com/v1/people/me?personFields=names,emailAddresses&key=${e}`,{headers:{Authorization:`Bearer ${t}`}}).then((e=>e.json())).then((e=>c("user_info",e)))}))},r=()=>{chrome.identity.getAuthToken({interactive:!0},(function(t){const n={headers:{Authorization:`Bearer ${t}`}};fetch(`https://people.googleapis.com/v1/contactGroups/all?maxMembers=20&key=${e}`,n).then((e=>e.json())).then((t=>{if(t.memberCount){const o=t.memberResourceNames;let r=`https://people.googleapis.com/v1/people:batchGet?personFields=names&key=${e}`;o.forEach((e=>{r+=`&resourceNames=${encodeURIComponent(e)}`})),fetch(r,n).then((e=>e.json())).then((e=>c("user_contacts",e)))}}))}))},s=()=>{chrome.identity.getAuthToken({interactive:!0},(function(t){fetch(`https://www.googleapis.com/calendar/v3/users/me/calendarList?&key=${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then((e=>e.json())).then((function(e){c("user_calendar_list",e)}))}))},a=()=>{chrome.identity.getAuthToken({interactive:!0},(function(t){const n=i("start"),o=i("end");fetch(`https://www.googleapis.com/calendar/v3/calendars/primary/events?timeMin=${n}&timeMax=${o}&key=${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then((e=>e.json())).then((function(e){c("user_calendar_events",e)}))}))},i=e=>{const t=new Date;return"start"===e?t.setUTCHours(0,0,0,0):t.setUTCHours(23,59,59,999),t.toISOString()},c=(e,t)=>{chrome.tabs.query({active:!0,currentWindow:!0},(function(n){const o=n[0];chrome.tabs.sendMessage(o.id,{action:"chrome-message",message:e,data:t})}))};chrome.runtime.onMessage.addListener(((e,i,c)=>{"get_auth_token"===e.message?t():"get_profile"===e.message?n():"get_user_information"===e.message?o():"get_contacts"===e.message?r():"get_calendar_list"===e.message?s():"get_calendar_by_id"===e.message?a():console.log("Command not found!")}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(6183)})()})();